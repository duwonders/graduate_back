"use strict";function getTranslate(e){var t=void 0;e.css("-webkit-transform")?t=e.css("-webkit-transform"):e.css("-moz-transform")?t=e.css("-moz-transform"):e.css("-ms-transform")?t=e.css("-ms-transform"):e.css("transform")&&(t=e.css("transform"));var a=/\d+/g,n=t.match(a);return n[1]}$(window).on("scroll.elasticity",function(e){e.preventDefault()}).on("touchmove.elasticity",function(e){e.preventDefault()});var start=void 0,i=void 0,end=void 0,preEnd=void 0,down=void 0;$(".page").map(function(e,t){$(t).animate({translate:"0, 0"},0,"ease-in-out")}),$(".page").on("touchstart",function(e){start=e.touches[0].pageY,$(".page").map(function(t,a){e.currentTarget==a&&(i=t)}),end=getTranslate($($(".page")[i])),$($(".page")[i]).prev().length&&(preEnd=getTranslate($($(".page")[i]).prev())/100*$("body").height())}),$(".page").on("touchmove",function(e){if(void 0===down)down=e.touches[0].pageY-start>0;else if(down){if($($(".page")[i]).prev().length){var t=-preEnd+e.touches[0].pageY-start+"px";$($(".page")[i]).prev().animate({translate:"0, "+t},0,"ease-in-out")}}else{var a=e.touches[0].pageY-start-end+"px";$($(".page")[i]).animate({translate:"0, "+a},0,"ease-in-out")}}),$(".page").on("touchend",function(){var e=getTranslate($($(".page")[i])),t=$("body").height();down?parseInt(e)<2/3*t?$($(".page")[i]).prev().animate({translate:"0, 0"},"4s","ease-in-out"):$($(".page")[i]).prev().animate({translate:"0, -106%"},"4s","ease-in-out"):parseInt(e)<1/3*t?$($(".page")[i]).animate({translate:"0, 0"},"4s","ease-in-out"):$($(".page")[i]).animate({translate:"0, -106%"},"4s","ease-in-out"),down=void 0});